# Docsy config
# cSpell:ignore basetheme docsy github goldmark linkify

enableGitInfo: true

theme: [docsy-overrides, docsy, basetheme]

outputs:
  section: [HTML]

#
# Markup and imaging
#

markup:
  goldmark:
    extensions:
      linkify: false
    parser:
      attribute:
        block: true
      wrapStandAloneImageWithinParagraph: false
    renderer:
      unsafe: true
  highlight:
    noClasses: false # Required for dark-mode
  tableOfContents: { endLevel: 4 }

imaging:
  resampleFilter: CatmullRom # cspell:disable-line
  quality: 75
  anchor: smart

# cSpell:ignore nbsp pagelinks
params:
  copyright:
    authors: >-
      Jaeger Authors | Docs
      [CC&nbsp;BY&nbsp;4.0](https://creativecommons.org/licenses/by/4.0) |
      [Privacy](https://www.linuxfoundation.org/legal/privacy-policy) |
      [Trademark](https://www.linuxfoundation.org/trademark-usage)
    from_year: 2017
    to_year: present

  github_repo: https://github.com/jaegertracing/documentation
  # TODO: Lunr config
  # Version menu: note some param are set via cascade
  version_menu_pagelinks: true
  version_menu_max_versions: 5

  privacy_policy: https://www.linuxfoundation.org/legal/privacy-policy

  ui:
    navbar_logo: true
    # navbar_translucent_over_cover_disable: true
    showLightDarkModeMenu: true
    sidebar_menu_compact: true
    sidebar_menu_foldable: true
    sidebar_search_disable: true
    sidebar_root_enabled: true

  links:
    user:
      - name: GitHub
        url: https://github.com/jaegertracing
        icon: fa-brands fa-github
        desc: Follow Jaeger on GitHub
      - name: X (Twitter)
        url: https://twitter.com/JaegerTracing
        icon: fa-brands fa-x-twitter
        desc: Latest Jaeger news and updates
      - name: Community Slack
        url: https://cloud-native.slack.com/archives/CGG7NFUJ3
        icon: fa-brands fa-slack
        desc: Chat with the Jaeger community
      - name: Medium
        url: https://medium.com/jaegertracing
        icon: fa-brands fa-medium
        desc: Articles and release announcements
    developer:
      - name: Via chat
        url: /get-in-touch/#via-chat
      - name: Project video meetings
        url: /get-in-touch/#project-video-meetings
      - name: Report issues on GitHub
        url: /get-in-touch/#open-issue-or-discussion-on-github
      - name: Report a security issue
        url: /report-security-issue/

menu:
  main:
    - name: Blog
      url: https://medium.com/jaegertracing/latest
      post:
        <sup><i class="ps-1 fa-solid fa-up-right-from-square fa-xs"
        aria-hidden="true"></i></sup>
      weight: 40

module:
  mounts:
    # Content
    - excludeFiles:
        - docs/v?
        - _index-pre-docsy.md
      source: content
      target: content

    - excludeFiles: _*
      source: content/docs/v2
      target: content/docs
    - source: content/docs/v2/_dev
      target: content/docs/2.dev

    - excludeFiles: _*
      source: content/docs/v1
      target: content/docs
    - source: content/docs/v1/_dev
      target: content/docs/1.dev

    # Assets, static, and images

    - source: assets
      target: assets
    - source: static
      target: static

    # So Docsy can find the images
    # TODO(Docsy): move files once pre-docsy.yaml is removed
    - source: static/img/jaeger-icon-reverse-color.svg
      target: assets/icons/logo.svg
    - source: static/img/hero-background.jpg
      target: content/hero-background.jpg
