{{- $binaries := .Site.Data.download.binaries }}
{{- $fullReleaseVersions    := index $binaries "fullReleaseVersions" }}
{{- $partialReleaseVersions := index $binaries "partialReleaseVersions" }}
{{- $platforms              := index $binaries "platforms" }}
{{- $platformInfo           := index $binaries "platformInfo" }}
<table class="table is-striped">
  <thead>
    <tr>
      <th>
        Version
      </th>
      <th>
        Assets
      </th>
    </tr>
  </thead>
  <tbody>
    {{- range sort $fullReleaseVersions "value" "desc" }}
    {{- $version := . }}
    {{- $zipUrl := printf "https://github.com/jaegertracing/jaeger/archive/v%s.zip" $version }}
    {{- $tarUrl := printf "https://github.com/jaegertracing/jaeger/archive/v%s.tar.gz" $version }}
    <tr>
      <td>
        <strong>
          <span class="is-size-4">
            {{ $version }}
          </span>
        </strong>
      </td>
      <td>
        <p class="buttons">
          {{- range $platforms }}
          {{- $platform    := . }}
          {{- $info        := index $platformInfo $platform }}
          {{- $name        := index $info "name" }}
          {{- $icon        := index $info "icon" }}
          {{- $asset       := printf "jaeger-%s-%s-amd64.tar.gz" $version $platform }}
          {{- $downloadUrl := printf "https://github.com/jaegertracing/jaeger/releases/download/v%s/%s" $version $asset }}
          {{- $zipUrl      := printf "https://github.com/jaegertracing/jaeger/archive/v%s.zip" $version }}
          {{- $tarUrl      := printf "https://github.com/jaegertracing/jaeger/archive/v%s.tar.gz" $version }}
          <a class="button is-large is-{{ $platform }}" href="{{ $downloadUrl }}" download>
            <span class="icon">
              <i class="fab {{ $icon }}"></i>
            </span>
            <span>
              {{ $name }}
            </span>
          </a>
          {{- end }}
          <a class="button is-large is-zip" href="{{ $zipUrl }}" download>
            <span class="icon">
              <i class="fas fa-file-archive"></i>
            </span>
            <span>
              ZIP
            </span>
          </a>
          <a class="button is-large is-tar" href="{{ $tarUrl }}" download>
            <span class="icon">
              <i class="fas fa-file-archive"></i>
            </span>
            <span>
              TAR
            </span>
          </a>
        </p>
      </td>
    </tr>
    {{- end }}
  </tbody>
</table>