{{- $binaries := .Site.Data.download.binaries }}
{{- $fullReleaseVersions    := $binaries.fullReleaseVersions }}
{{- $partialReleaseVersions := $binaries.partialReleaseVersions }}
{{- $platforms              := $binaries.platforms }}
{{- $platformInfo           := $binaries.platformInfo }}
<table class="table is-striped">
  <thead>
    <tr>
      <th>
        Version
      </th>
      <th>
        Assets
      </th>
    </tr>
  </thead>
  <tbody>
    {{- range sort $fullReleaseVersions "value" "desc" }}
    {{- $version    := . }}
    {{- $releaseUrl := printf "https://github.com/jaegertracing/jaeger/releases/tag/v%s" $version }}
    {{- $zipUrl     := printf "https://github.com/jaegertracing/jaeger/archive/v%s.zip" $version }}
    {{- $tarUrl     := printf "https://github.com/jaegertracing/jaeger/archive/v%s.tar.gz" $version }}
    <tr>
      <td>
        <strong>
          <span class="is-size-4">
            <a href="{{ $releaseUrl }}">
              {{ $version }}
            </a>
          </span>
        </strong>
      </td>
      <td>
        <p class="buttons">
          {{- range $platforms }}
          {{- $platform    := . }}
          {{- $info        := index $platformInfo $platform }}
          {{- $name        := $info.name }}
          {{- $icon        := $info.icon }}
          {{- $asset       := printf "jaeger-%s-%s-amd64.tar.gz" $version $platform }}
          {{- $downloadUrl := printf "https://github.com/jaegertracing/jaeger/releases/download/v%s/%s" $version $asset }}
          {{- $zipUrl      := printf "https://github.com/jaegertracing/jaeger/archive/v%s.zip" $version }}
          {{- $tarUrl      := printf "https://github.com/jaegertracing/jaeger/archive/v%s.tar.gz" $version }}
          <a class="button is-large is-{{ $platform }}" href="{{ $downloadUrl }}" download>
            <span class="icon">
              <i class="fab {{ $icon }}"></i>
            </span>
            <span>
              {{ $name }}
            </span>
          </a>
          {{- end }}
          <a class="button is-large is-zip" href="{{ $zipUrl }}" download>
            <span class="icon">
              <i class="fas fa-file-archive"></i>
            </span>
            <span>
              Source (.zip)
            </span>
          </a>
          <a class="button is-large is-tar" href="{{ $tarUrl }}" download>
            <span class="icon">
              <i class="fas fa-file-archive"></i>
            </span>
            <span>
              Source (.tar.gz)
            </span>
          </a>
        </p>
      </td>
    </tr>
    {{- end }}
  </tbody>
</table>