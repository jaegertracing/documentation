{{- $clients := .Site.Data.clients.clients }}
{{- $featureGroups := .Site.Data.clients.featureGroups }}
{{- range $featureGroups }}
<h3>{{ .description }}</h3>
<table>
  <thead>
    <tr>
      <th>Feature</th>
      {{- range $clients }}
      <th>{{ .language }}</th>
      {{- end }}
    </tr>
  </thead>
  <tbody>
    {{- range .features }}
    {{- $featureName := .name }}
    <tr>
      {{- $description := default .name .description }}
      <td>{{ $description | markdownify }}</td>
      {{- range $clients }}
      {{- $supported := index .features $featureName }}
      {{- if eq $supported true }}
      <td>{{ emojify ":white_check_mark:" }}</td>
      {{- else if eq $supported false }}
      <td>{{ emojify ":x:" }}</td>
      {{- else }}
      {{- $supported := default (emojify ":grey_question:") $supported }}
      <td>{{ $supported | markdownify }}</td>
      {{- end }}
      {{- end }}
      </tr>
    {{- end }}
  </tbody>
</table>
{{- end }}
