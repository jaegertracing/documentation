{{- $maxBlogPosts := .Site.Params.maxBlogPosts }}
{{- $json         := getJSON "https://api.rss2json.com/v1/api.json?rss_url=https://medium.com/feed/jaegertracing" }}
{{- $posts        := first $maxBlogPosts $json.items }}
{{- $mostRecent   := index $json.items 0 }}
<section class="section section-news-stand">
  <div class="blog" id="blog">
    <h1 class="title is-spaced">Latest articles from our blog</h1>

    <div class="blog__container">
      <ul class="blog__slider">
        {{- range $posts }}
        {{- $link    := .link }}
        {{- $img     := .thumbnail }}
        {{- $title   := .title }}
        {{- $author  := .author }}
        {{- $dateRaw := .pubDate }}
        {{- $date    := dateFormat "January 2, 2006" $dateRaw }}
        {{- $summary := .content | plainify | truncate 150 }}


        <li class="blog__post">
          <a href="{{ $link }}">
            <img src="{{ $img }}" class="blog__topImg"></img>
            <div class="blog__content">
              <div class="blog__preview">
                  <h2 class="blog__title">{{ $title }}</h2>

                  <p class="blog__intro">
                    {{ $summary }}
                  </p>
              </div>
              <hr>
              <div class="blog__info">
                <span class="blog__author">
                  {{ $author }}
                </span>
                <br />
                <span class="blog__date">
                  {{ $date }}
                </span>
              </div>
            </div>
          </a>
         </li>
        {{- end }}
      </ul>
    </div>
  </div>
</section>
